<p-table #tableRef [value]="data" dataKey="id" [lazy]="true" [columns]="columns" [(selection)]="selectedItems"
    [rowHover]="true" [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50, 100]"
    [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [filterDelay]="0"
    [totalRecords]="20" (onSort)="sortEvent.emit($event)" (onFilter)="filterEvent.emit($event)"
    (onPage)="pageEvent.emit($event)" styleClass="p-datatable-gridlines  p-datatable-striped" responsiveLayout="scroll"
    (onFilter)="filterEvent.emit($event)" (onGlobalFilter)="filterEvent.emit($event)"
    (selectionChange)="selectEvent.emit($event)">

    <ng-template pTemplate="caption">
        <p-toolbar class="gap-2">
            <div class="flex  gap-2">
                <button class="p-button-success" pButton icon="pi pi-plus" pTooltip="New"
                    tooltipPosition="bottom"></button>

                <button class="p-button-danger" pButton icon="pi pi-trash" (click)="tableRef.clear()"
                    pTooltip="Delete Selection" tooltipPosition="bottom"></button>
            </div>

            <div class="flex gap-2">
                <button pButton icon="pi pi-filter-slash" (click)="tableRef.clear()" pTooltip="Clear filter"
                    tooltipPosition="bottom"></button>
                <span class="p-input-icon-left">
                    <i class="pi pi-search"></i>
                    <input pInputText type="text" [formControl]="searchControl"
                        (input)="tableRef.filterGlobal(searchControl.value,'contains')" placeholder="Global Search" />
                </span>
            </div>
        </p-toolbar>
    </ng-template>


    <ng-template pTemplate="header" let-columns>
        <tr>
            <th style="width: 3rem">
                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
            </th>

            <th *ngFor="let col of columns">
                {{col.header}}
                <p-columnFilter type="text" [field]="col.field" display="menu"></p-columnFilter>
            </th>
        </tr>
    </ng-template>

    <ng-template pTemplate="body" let-rowData let-columns="columns">
        <tr>


            <td>
                <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
            </td>
            <td *ngFor="let col of columns">
                {{rowData[col.field]}}
            </td>
        </tr>
    </ng-template>

</p-table>
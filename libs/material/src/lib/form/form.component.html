<form [formGroup]="formGroup" (ngSubmit)="submit()" [noValidate]="false" class="flex flex-column gap-3 p-4"
    *ngIf="formGroup">


    <ng-container *ngFor="let field of fields">

        <div class="flex flex-column gap-2" *ngIf="['text', 'number'].includes(field.type!)">
            <label [for]="field.name">
                {{field.placeholder}}
            </label>
            <input [id]=" field.name" pInputText [formControlName]="field.name!" [aeSetAttribute]="field">
        </div>


        <div *ngIf="['checkbox'].includes(field.type!)" class="flex">
            <input [id]="field.name!" [formControlName]="field.name!" [name]="field.name" type="checkbox">
            <label style="margin-left: 20px;" [for]="field.name"> {{field.placeholder | titlecase}}</label>
        </div>


        <div *ngIf="['radio'].includes(field.type!)" class="flex">
            <fieldset class="w-full">
                <legend>{{field.name | titlecase}}</legend>
                <input #radioInput hidden [formControlName]="field.name!">
                <div class="flex p-1" *ngFor="let o of field.enums">
                    <input type="radio" [name]="field.name!" (input)="setValue(field.name!, o )">
                    <label style="margin-left: 20px;" [for]="field.name"> {{o}}</label>
                </div>
            </fieldset>
        </div>


        <!-- 
        <p-dropdown *ngIf="['dropdown'].includes(field.type!)" [formControlName]="field.name!"
            [required]="!!field.required" [options]="field.enums!"
            [placeholder]="(field.placeholder || field.name)! | titlecase">
        </p-dropdown> -->


        <ng-container *ngIf="['select', 'dropdown'].includes(field.type!)">


            <label [for]="field.name"> {{field.placeholder}}</label>
            <select [id]="field.name" [formControlName]="field.name!" [required]="!!field.required">
                <option [value]="''">{{field.placeholder }}</option>
                <option [value]="o" *ngFor="let o of field.enums">{{o}}</option>
            </select>


        </ng-container>
    </ng-container>

    <button type="submit" pButton label="Save"></button>
</form>
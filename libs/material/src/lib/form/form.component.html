<div class="info" *ngIf="!formGroup">FormGroup is not provided!</div>

<form *ngIf="formGroup" [formGroup]="formGroup" class="flex flex-column gap-5 " (ngSubmit)="submit()"
    [noValidate]="false">
    <div class="flex flex-column justify-content-start align-items-start" *ngFor=" let field of fields">
        <label [for]="field.name">{{field.placeholder}} </label>


        <ng-container
            *ngIf="['text', 'number', 'date', 'datetime', 'checkbox', 'radio', 'range', 'email', 'password'].includes(field.type || 'text')">
            <input [id]="field.name" [formControlName]="field.name!" [type]="field.type || 'text'"
                [attr.required]="field.required" [attr.minlength]="field.minLength" [attr.maxlength]="field.maxLength"
                [attr.min]="field.min" [attr.max]="field.max">
        </ng-container>


        <ng-container *ngIf="field.type ==='textarea'">

            <textarea pInputTextarea [id]="field.name" [formControlName]="field.name!" [attr.required]="field.required"
                [attr.minlength]="field.minLength" [attr.maxlength]="field.maxLength" [attr.min]="field.min"
                [attr.max]="field.max"></textarea>
        </ng-container>


        <ng-container *ngIf="field.type ==='select'">
            <select [name]="field.name" [formControlName]="field.name!">
                <option *ngFor="let item of field.options" [attr.value]="item.id">{{item.label}}</option>
            </select>
        </ng-container>
    </div>

    <p-button type="submit" label="Submit"></p-button>
</form>
"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[297],{6297:(B,p,n)=>{n.r(p),n.d(p,{MessangerComponent:()=>l,MessangerModule:()=>g});var e=n(4650),i=n(4006);class x{constructor(t){this.from=t.from,this.message=t.message,this.time=t.time,this.read=t.read}}var y=n(1135);class f{constructor(){this.messages$=new y.X([])}loadMessages(t){this.messages$.next(t)}send(t){this.messages$.next([...this.messages$.getValue(),t])}}var r=n(6895);class c{constructor(t){this.el=t}ngAfterViewInit(){this.el.nativeElement.scrollIntoView({behavior:"smooth"})}static#e=this.\u0275fac=function(s){return new(s||c)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:c,selectors:[["","aeScrollIntoView",""]]})}var h=n(5593),v=n(3054);const C=["messageInput"],M=["sendButton"];function w(u,t){if(1&u&&(e.TgZ(0,"div",8)(1,"div",9)(2,"p",10),e._uU(3),e.qZA(),e.TgZ(4,"small",11),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"small"),e._uU(8," \u2713\u2713"),e.qZA()()()),2&u){const s=t.$implicit;e.xp6(1),e.ekj("yours",s.from)("mine",!s.from),e.xp6(2),e.hij(" ",s.message," "),e.xp6(2),e.Oqu(e.xi3(6,8,s.time,"medium")),e.xp6(2),e.ekj("read",s.read)}}class l{constructor(t){this.messgaeService=t,this.sendMessageEvent=new e.vpe,this.messageInputControl=new i.NI("",[]),this.messages$=this.messgaeService.messages$,this.messgaeService.send({message:"SOme message",time:new Date,read:!0}),this.messgaeService.send({message:"SOme message",time:new Date,read:!1,from:!0}),this.messgaeService.send({message:"SOme message",time:new Date,read:!1,from:!0})}send(t){const s=this.messageInputControl.value;if(s&&s.trim().length>0){const o={message:s,time:new Date,from:t};this.messgaeService.send(new x(o)),this.sendMessageEvent.emit(o),this.messageInputControl.setValue("")}this.messageInput.nativeElement.focus()}keypressHandler(t){return"Enter"===t.key?(t.preventDefault(),t.shiftKey?void this.send(!0):void this.send()):"Tab"==t.key?(t.preventDefault(),void this.sendButton.nativeElement.focus()):void 0}static#e=this.\u0275fac=function(s){return new(s||l)(e.Y36(f))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["ae-messanger"]],viewQuery:function(s,o){if(1&s&&(e.Gf(C,5),e.Gf(M,5)),2&s){let a;e.iGM(a=e.CRH())&&(o.messageInput=a.first),e.iGM(a=e.CRH())&&(o.sendButton=a.first)}},outputs:{sendMessageEvent:"sendMessageEvent"},decls:9,vars:4,consts:[[1,"bg-image","flex","flex-column","justify-content-between","flex-grow-1","h-full"],[1,"bottom-scroll","flex","flex-column","flex-grow-","gap-2","p-2","h-full","overflow-y-auto"],["aeScrollIntoView","",4,"ngFor","ngForOf"],[1,"flex","gap-2","align-items-center","p-2"],["pInputTextarea","","placeholder","Type your message","tabindex","1",1,"message-input",3,"formControl","keypress"],["messageInput",""],["pButton","","icon","pi pi-send","tabindex","1",1,"p-inputgroup-addon",2,"height","50px","width","50px",3,"click"],["sendButton",""],["aeScrollIntoView",""],[1,"flex","flex-column","message"],[1,"message-text"],[1,"time-indicator"]],template:function(s,o){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,w,9,11,"div",2),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"div",3)(5,"textarea",4,5),e.NdJ("keypress",function(A){return o.keypressHandler(A)}),e.qZA(),e.TgZ(7,"button",6,7),e.NdJ("click",function(){return o.send()}),e.qZA()()()),2&s&&(e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,2,o.messages$)),e.xp6(3),e.Q6J("formControl",o.messageInputControl))},dependencies:[r.sg,i.Fj,i.JJ,i.oH,c,h.Hq,v.g,r.Ov,r.uU],styles:[".message[_ngcontent-%COMP%]{padding:3px 10px;width:80%;font-family:Arial,Helvetica,sans-serif;color:#535151;letter-spacing:1px}.yours[_ngcontent-%COMP%]{border-top-left-radius:20px;border-bottom-left-radius:20px;background-color:#f0ffd9;float:right;text-align:right}.mine[_ngcontent-%COMP%]{background-color:#fff;border-top-right-radius:20px;border-bottom-right-radius:20px;float:left}[_nghost-%COMP%]{height:100%;position:relative}.message-input[_ngcontent-%COMP%]{width:100%;height:50px;overflow:hidden;line-height:35px;padding-left:20px;padding-right:20px;resize:none;font-family:Arial,Helvetica,sans-serif;font-style:italic;border:none}.bg-image[_ngcontent-%COMP%]{background-image:url(/assets/imgs/accessability.jpg);background-size:20px;background-color:#eeeded;background-blend-mode:lighten}span.read[_ngcontent-%COMP%]{color:green}"]})}var b=n(3948),S=n(9595),I=n(1740);class d{constructor(t){this.el=t}ngAfterViewInit(){console.log("Scrolling "),this.toBottom&&this.el.nativeElement.scrollIntoView({behavior:"smooth"})}static#e=this.\u0275fac=function(s){return new(s||d)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:d,selectors:[["","aeScrollControl",""]],inputs:{toBottom:"toBottom"}})}class m{static#e=this.\u0275fac=function(s){return new(s||m)};static#t=this.\u0275mod=e.oAB({type:m});static#s=this.\u0275inj=e.cJS({imports:[r.ez]})}class g{static#e=this.\u0275fac=function(s){return new(s||g)};static#t=this.\u0275mod=e.oAB({type:g});static#s=this.\u0275inj=e.cJS({providers:[f],imports:[r.ez,i.u5,i.UX,m,h.hJ,b.rt,S.Bz.forChild([{path:"",component:l}]),I.j,v.A]})}}}]);
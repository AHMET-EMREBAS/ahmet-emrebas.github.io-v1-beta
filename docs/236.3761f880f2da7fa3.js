"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[236],{1236:(T,p,l)=>{l.r(p),l.d(p,{MessangerComponent:()=>C,MessangerModule:()=>ee});var o=l(5e3),_=l(2382);class v{constructor(t){this.from=t.from,this.message=t.message,this.time=t.time,this.read=t.read}}var E=l(1135);class b{constructor(){this.messages$=new E.X([])}loadMessages(t){this.messages$.next(t)}send(t){this.messages$.next([...this.messages$.getValue(),t])}}var a=l(9808);let h=(()=>{class n{constructor(e){this.el=e}ngAfterViewInit(){this.el.nativeElement.scrollIntoView({behavior:"smooth"})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","aeScrollIntoView",""]]}),n})();var c=l(845),u=l(3407);const f=["messageInput"],m=["sendButton"];function N(n,t){if(1&n&&(o.TgZ(0,"div",8)(1,"div",9)(2,"p",10),o._uU(3),o.qZA(),o.TgZ(4,"small",11),o._uU(5),o.ALo(6,"date"),o.qZA(),o.TgZ(7,"small"),o._uU(8," \u2713\u2713"),o.qZA()()()),2&n){const e=t.$implicit;o.xp6(1),o.ekj("yours",e.from)("mine",!e.from),o.xp6(2),o.hij(" ",e.message," "),o.xp6(2),o.Oqu(o.xi3(6,8,e.time,"medium")),o.xp6(2),o.ekj("read",e.read)}}let C=(()=>{class n{constructor(e){this.messgaeService=e,this.sendMessageEvent=new o.vpe,this.messageInputControl=new _.NI("",[]),this.messages$=this.messgaeService.messages$,this.messgaeService.send({message:"SOme message",time:new Date,read:!0}),this.messgaeService.send({message:"SOme message",time:new Date,read:!1,from:!0}),this.messgaeService.send({message:"SOme message",time:new Date,read:!1,from:!0})}send(e){const s=this.messageInputControl.value;if(s&&s.trim().length>0){const i={message:s,time:new Date,from:e};this.messgaeService.send(new v(i)),this.sendMessageEvent.emit(i),this.messageInputControl.setValue("")}this.messageInput.nativeElement.focus()}keypressHandler(e){return"Enter"===e.key?(e.preventDefault(),e.shiftKey?void this.send(!0):void this.send()):"Tab"==e.key?(e.preventDefault(),void this.sendButton.nativeElement.focus()):void 0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ae-messanger"]],viewQuery:function(e,s){if(1&e&&(o.Gf(f,5),o.Gf(m,5)),2&e){let i;o.iGM(i=o.CRH())&&(s.messageInput=i.first),o.iGM(i=o.CRH())&&(s.sendButton=i.first)}},outputs:{sendMessageEvent:"sendMessageEvent"},decls:9,vars:4,consts:[[1,"bg-image","flex","flex-column","justify-content-between","flex-grow-1","h-full"],[1,"bottom-scroll","flex","flex-column","flex-grow-","gap-2","p-2","h-full","overflow-y-auto"],["aeScrollIntoView","",4,"ngFor","ngForOf"],[1,"flex","gap-2","align-items-center","p-2"],["pInputTextarea","","placeholder","Type your message","tabindex","1",1,"message-input",3,"formControl","keypress"],["messageInput",""],["pButton","","icon","pi pi-send","tabindex","1",1,"p-inputgroup-addon",2,"height","50px","width","50px",3,"click"],["sendButton",""],["aeScrollIntoView",""],[1,"flex","flex-column","message"],[1,"message-text"],[1,"time-indicator"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,N,9,11,"div",2),o.ALo(3,"async"),o.qZA(),o.TgZ(4,"div",3)(5,"textarea",4,5),o.NdJ("keypress",function(r){return s.keypressHandler(r)}),o.qZA(),o.TgZ(7,"button",6,7),o.NdJ("click",function(){return s.send()}),o.qZA()()()),2&e&&(o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,2,s.messages$)),o.xp6(3),o.Q6J("formControl",s.messageInputControl))},dependencies:[a.sg,_.Fj,_.JJ,_.oH,h,c.Hq,u.g,a.Ov,a.uU],styles:[".message[_ngcontent-%COMP%]{padding:3px 10px;width:80%;font-family:Arial,Helvetica,sans-serif;color:#535151;letter-spacing:1px}.yours[_ngcontent-%COMP%]{border-top-left-radius:20px;border-bottom-left-radius:20px;background-color:#f0ffd9;float:right;text-align:right}.mine[_ngcontent-%COMP%]{background-color:#fff;border-top-right-radius:20px;border-bottom-right-radius:20px;float:left}[_nghost-%COMP%]{height:100%;position:relative}.message-input[_ngcontent-%COMP%]{width:100%;height:50px;overflow:hidden;line-height:35px;padding-left:20px;padding-right:20px;resize:none;font-family:Arial,Helvetica,sans-serif;font-style:italic;border:none}.bg-image[_ngcontent-%COMP%]{background-image:url(/assets/imgs/accessability.jpg);background-size:20px;background-color:#eeeded;background-blend-mode:lighten}span.read[_ngcontent-%COMP%]{color:green}"]}),n})();var y=l(925);let B=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[B]}),n})();const k="cdk-high-contrast-black-on-white",D="cdk-high-contrast-white-on-black",I="cdk-high-contrast-active";let $=(()=>{class n{constructor(e,s){this._platform=e,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const s=this._document.defaultView||window,i=s&&s.getComputedStyle?s.getComputedStyle(e):null,r=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(I),e.remove(k),e.remove(D),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(e.add(I),e.add(k)):2===s&&(e.add(I),e.add(D))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(y.t4),o.LFG(a.K0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[U]]}),n})();var Q=l(4650);let X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[a.ez]}),n})();var q=l(1424);let ee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[b],imports:[a.ez,_.u5,_.UX,X,c.hJ,J,Q.Bz.forChild([{path:"",component:C}]),q.j,u.A]}),n})()},1424:(T,p,l)=>{l.d(p,{j:()=>b,o:()=>E});var o=l(5e3),_=l(9808),v=l(2382);let E=(()=>{class a{constructor(c,u,f){this.el=c,this.ngModel=u,this.cd=f}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(c){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return a.\u0275fac=function(c){return new(c||a)(o.Y36(o.SBq),o.Y36(v.On,8),o.Y36(o.sBO))},a.\u0275dir=o.lG2({type:a,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(c,u){1&c&&o.NdJ("input",function(m){return u.onInput(m)}),2&c&&o.ekj("p-filled",u.filled)}}),a})(),b=(()=>{class a{}return a.\u0275fac=function(c){return new(c||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[[_.ez]]}),a})()},3407:(T,p,l)=>{l.d(p,{A:()=>b,g:()=>E});var o=l(5e3),_=l(9808),v=l(2382);let E=(()=>{class a{constructor(c,u,f,m){this.el=c,this.ngModel=u,this.control=f,this.cd=m,this.onResize=new o.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(c){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(c){this.autoResize&&this.resize(c)}onBlur(c){this.autoResize&&this.resize(c)}resize(c){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(c||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return a.\u0275fac=function(c){return new(c||a)(o.Y36(o.SBq),o.Y36(v.On,8),o.Y36(v.a5,8),o.Y36(o.sBO))},a.\u0275dir=o.lG2({type:a,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(c,u){1&c&&o.NdJ("input",function(m){return u.onInput(m)})("focus",function(m){return u.onFocus(m)})("blur",function(m){return u.onBlur(m)}),2&c&&o.ekj("p-filled",u.filled)("p-inputtextarea-resizable",u.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),a})(),b=(()=>{class a{}return a.\u0275fac=function(c){return new(c||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[[_.ez]]}),a})()}}]);
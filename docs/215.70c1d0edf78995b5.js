"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[215],{3215:(A,g,o)=>{o.r(g),o.d(g,{MessangerComponent:()=>d,MessangerModule:()=>S});var e=o(5e3),a=o(3075);class p{constructor(n){this.from=n.from,this.message=n.message,this.time=n.time,this.read=n.read}}var f=o(1135);class m{constructor(){this.messages$=new f.X([])}loadMessages(n){this.messages$.next(n)}send(n){this.messages$.next([...this.messages$.getValue(),n])}}var l=o(9808);let h=(()=>{class s{constructor(t){this.el=t}ngAfterViewInit(){this.el.nativeElement.scrollIntoView({behavior:"smooth"})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.SBq))},s.\u0275dir=e.lG2({type:s,selectors:[["","aeScrollIntoView",""]]}),s})();var c=o(845),u=o(3407);const v=["messageInput"],M=["sendButton"];function x(s,n){if(1&s&&(e.TgZ(0,"div",8)(1,"div",9)(2,"p",10),e._uU(3),e.qZA(),e.TgZ(4,"small",11),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"small"),e._uU(8," \u2713\u2713"),e.qZA()()()),2&s){const t=n.$implicit;e.xp6(1),e.ekj("yours",t.from)("mine",!t.from),e.xp6(2),e.hij(" ",t.message," "),e.xp6(2),e.Oqu(e.xi3(6,8,t.time,"medium")),e.xp6(2),e.ekj("read",t.read)}}let d=(()=>{class s{constructor(t){this.messgaeService=t,this.sendMessageEvent=new e.vpe,this.messageInputControl=new a.NI("",[]),this.messages$=this.messgaeService.messages$,this.messgaeService.send({message:"SOme message",time:new Date,read:!0}),this.messgaeService.send({message:"SOme message",time:new Date,read:!1,from:!0}),this.messgaeService.send({message:"SOme message",time:new Date,read:!1,from:!0})}send(t){const r=this.messageInputControl.value;if(r&&r.trim().length>0){const i={message:r,time:new Date,from:t};this.messgaeService.send(new p(i)),this.sendMessageEvent.emit(i),this.messageInputControl.setValue("")}this.messageInput.nativeElement.focus()}keypressHandler(t){return"Enter"===t.key?(t.preventDefault(),t.shiftKey?void this.send(!0):void this.send()):"Tab"==t.key?(t.preventDefault(),void this.sendButton.nativeElement.focus()):void 0}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(m))},s.\u0275cmp=e.Xpm({type:s,selectors:[["ae-messanger"]],viewQuery:function(t,r){if(1&t&&(e.Gf(v,5),e.Gf(M,5)),2&t){let i;e.iGM(i=e.CRH())&&(r.messageInput=i.first),e.iGM(i=e.CRH())&&(r.sendButton=i.first)}},outputs:{sendMessageEvent:"sendMessageEvent"},decls:9,vars:4,consts:[[1,"bg-image","flex","flex-column","justify-content-between","flex-grow-1","h-full"],[1,"bottom-scroll","flex","flex-column","flex-grow-","gap-2","p-2","h-full","overflow-y-auto"],["aeScrollIntoView","",4,"ngFor","ngForOf"],[1,"flex","gap-2","align-items-center","p-2"],["pInputTextarea","","placeholder","Type your message","tabindex","1",1,"message-input",3,"formControl","keypress"],["messageInput",""],["pButton","","icon","pi pi-send","tabindex","1",1,"p-inputgroup-addon",2,"height","50px","width","50px",3,"click"],["sendButton",""],["aeScrollIntoView",""],[1,"flex","flex-column","message"],[1,"message-text"],[1,"time-indicator"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,x,9,11,"div",2),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"div",3)(5,"textarea",4,5),e.NdJ("keypress",function(I){return r.keypressHandler(I)}),e.qZA(),e.TgZ(7,"button",6,7),e.NdJ("click",function(){return r.send()}),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,2,r.messages$)),e.xp6(3),e.Q6J("formControl",r.messageInputControl))},dependencies:[l.sg,a.Fj,a.JJ,a.oH,h,c.Hq,u.g,l.Ov,l.uU],styles:[".message[_ngcontent-%COMP%]{padding:3px 10px;width:80%;font-family:Arial,Helvetica,sans-serif;color:#535151;letter-spacing:1px}.yours[_ngcontent-%COMP%]{border-top-left-radius:20px;border-bottom-left-radius:20px;background-color:#f0ffd9;float:right;text-align:right}.mine[_ngcontent-%COMP%]{background-color:#fff;border-top-right-radius:20px;border-bottom-right-radius:20px;float:left}[_nghost-%COMP%]{height:100%;position:relative}.message-input[_ngcontent-%COMP%]{width:100%;height:50px;overflow:hidden;line-height:35px;padding-left:20px;padding-right:20px;resize:none;font-family:Arial,Helvetica,sans-serif;font-style:italic;border:none}.bg-image[_ngcontent-%COMP%]{background-image:url(/assets/imgs/accessability.jpg);background-size:20px;background-color:#eeeded;background-blend-mode:lighten}span.read[_ngcontent-%COMP%]{color:green}"]}),s})();var y=o(22),C=o(7783);let w=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[l.ez]}),s})();var b=o(1424);let S=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[m],imports:[l.ez,a.u5,a.UX,w,c.hJ,y.rt,C.Bz.forChild([{path:"",component:d}]),b.j,u.A]}),s})()}}]);